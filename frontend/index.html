
<!DOCTYPE html>
<html>
    <head>
        <title>RAG chatbot</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <!-- Login/Register Screen (shown first) -->
        <div id="auth-container" class="auth-container">
            <div class="auth-box">
                <h1>ChatBot</h1>
                <p class="auth-subtitle">Login or Register to continue</p>
                
                <!-- Toggle between Login and Register -->
                <div class="auth-tabs">
                    <button id="login-tab" class="auth-tab active" onclick="showLogin()">Login</button>
                    <button id="register-tab" class="auth-tab" onclick="showRegister()">Register</button>
                </div>

                <form id="login-form" class="auth-form">
                    <input type="text" id="login-username" placeholder="Username" required autocomplete="username" />
                    <input type="password" id="login-password" placeholder="Password" required autocomplete="current-password" />
                    <button type="submit" class="auth-button">Login</button>
                    <p id="login-error" class="error-message"></p>
                </form>

                <form id="register-form" class="auth-form" style="display: none;">
                    <input type="text" id="register-username" placeholder="Username (min 3 chars)" required autocomplete="username" />
                    <input type="password" id="register-password" placeholder="Password (min 6 chars)" required autocomplete="new-password" />
                    <button type="submit" class="auth-button">Register</button>
                    <p id="register-error" class="error-message"></p>
                </form>
            </div>
        </div>

        <!-- Main Chat Interface (hidden until logged in) -->
        <div id="main-container" style="display: none;">
    <header>
        <div class="header-content">
            <div class="header-left">
                <h1>ChatBot</h1>
            </div>
            <div class="header-right">
                <span id="username-display" class="username-display"></span>
            </div>
        </div>
    </header>
    
    <div class="main-layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <button id="new-chat-button" class="new-chat-button">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    New Chat
                </button>
            </div>
            <div style="padding: 0 15px 15px 15px; border-bottom: 1px solid #333; margin-bottom: 10px;">
                <p style="color: #666; font-size: 11px; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px;">Knowledge Base</p>
                
                <input type="file" id="fileInput" style="display: none;" onchange="uploadFile()">
                
                <button onclick="document.getElementById('fileInput').click()" 
                        style="width: 100%; background: #2a2a2a; border: 1px dashed #555; color: #ccc; padding: 10px; border-radius: 8px; cursor: pointer; font-size: 13px; display: flex; align-items: center; justify-content: center; gap: 8px; transition: 0.2s;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                    Upload PDF
                </button>
                
                <div id="uploadStatus" style="font-size: 11px; margin-top: 8px; text-align: center; min-height: 15px;"></div>
            </div>
            
            
            <div class="conversations-list" id="conversations-list">
                </div>

            <div class="sidebar-footer">
                <button id="logout-button" class="logout-button">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                    Logout
                </button>
            </div>
        </aside>

        <main class="main-content">
            <section class="chatbox">
                <div class="chat-window" id="chatwindow"></div>
                <div class="chat-input">
                    <input type="text" id="userinput" placeholder="Message ChatBot..." autocomplete="off" />
                    <button id="sendbutton">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24">
                            <path d="M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z" fill="white"/>
                        </svg>
                    </button>
                </div>
            </section>
        </main>
    </div>
</div>

        <script src="script.js"></script>
    </body>
</html>